#LyX 2.3 created this file. For more info see http://www.lyx.org/
\lyxformat 544
\begin_document
\begin_header
\save_transient_properties true
\origin unavailable
\textclass article
\use_default_options true
\maintain_unincluded_children false
\language english
\language_package default
\inputencoding auto
\fontencoding global
\font_roman "default" "default"
\font_sans "default" "default"
\font_typewriter "default" "default"
\font_math "auto" "auto"
\font_default_family default
\use_non_tex_fonts false
\font_sc false
\font_osf false
\font_sf_scale 100 100
\font_tt_scale 100 100
\use_microtype false
\use_dash_ligatures true
\graphics default
\default_output_format default
\output_sync 0
\bibtex_command default
\index_command default
\paperfontsize default
\spacing single
\use_hyperref false
\papersize default
\use_geometry false
\use_package amsmath 1
\use_package amssymb 1
\use_package cancel 1
\use_package esint 1
\use_package mathdots 1
\use_package mathtools 1
\use_package mhchem 1
\use_package stackrel 1
\use_package stmaryrd 1
\use_package undertilde 1
\cite_engine basic
\cite_engine_type default
\biblio_style plain
\use_bibtopic false
\use_indices false
\paperorientation portrait
\suppress_date true
\justification true
\use_refstyle 1
\use_minted 0
\index Index
\shortcut idx
\color #008000
\end_index
\secnumdepth 3
\tocdepth 3
\paragraph_separation indent
\paragraph_indentation default
\is_math_indent 0
\math_numbering_side default
\quotes_style english
\dynamic_quotes 0
\papercolumns 1
\papersides 1
\paperpagestyle default
\tracking_changes false
\output_changes false
\html_math_output 0
\html_css_as_file 0
\html_be_strict false
\end_header

\begin_body

\begin_layout Title

\series bold
Unit 1.
 Task 4: Tomcat installation
\end_layout

\begin_layout Author
Javier Aguilera Aguilera 2ยบ CFGS DAW
\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Standard
\begin_inset CommandInset toc
LatexCommand tableofcontents

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Section
Previous steps
\end_layout

\begin_layout Subsection
Check for updates
\end_layout

\begin_layout Standard
Before making the installation, we are going to update our system executing
 in the terminal the following commands: 
\end_layout

\begin_layout Standard
\begin_inset listings
inline false
status open

\begin_layout Plain Layout

$ sudo apt update
\end_layout

\begin_layout Plain Layout

$ sudo apt upgrade
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename im1.png
	lyxscale 85
	scale 85

\end_inset


\begin_inset Caption Standard

\begin_layout Plain Layout
We have our system up to date
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Installing JDK
\end_layout

\begin_layout Subsubsection
Check if Java is Installed
\end_layout

\begin_layout Standard
First of all, you have to check if you have Java already installed in your
 machine:
\end_layout

\begin_layout Standard
\begin_inset listings
inline false
status open

\begin_layout Plain Layout

$ java -version
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename im2.png
	lyxscale 85
	scale 85

\end_inset


\begin_inset Caption Standard

\begin_layout Plain Layout
As you can see, I don't have it installed
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsubsection
JRE vs JDK
\end_layout

\begin_layout Standard
If we reach these point, we have two diffents options, install JRE or JDK:
\end_layout

\begin_layout Itemize
JRE is the acronym for Java Runtime Environment.
 It is a package that contains all stuff needed to execute a compiled Java
 program (java virtual machine, class library, ....).
 Nevertheless, it cant't be used to create new programms.
\end_layout

\begin_layout Itemize
JDK is the acronym for Java Development Kit.
 It has all the components that JRE has, the compilator and development
 tools.
\end_layout

\begin_layout Standard
Sometimes, even if you aren't going to make any development in Java you
 need to have the JDK installed.
 In our case, as the web server is going to transform the JSP files into
 Servlets it will need the Java compilator which is only avaliable if you
 install the JDK.
 So it is clear that we are going to install JDK.
\end_layout

\begin_layout Standard
You have to run at the command line:
\end_layout

\begin_layout Standard
\begin_inset listings
inline false
status open

\begin_layout Plain Layout

$ sudo apt install default-jdk
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename im3.png
	lyxscale 85
	scale 85

\end_inset


\begin_inset Caption Standard

\begin_layout Plain Layout
Installing JDK
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Then we run again:
\end_layout

\begin_layout Standard
\begin_inset listings
inline false
status open

\begin_layout Plain Layout

$ java -version
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename im4.png
	lyxscale 85
	scale 85

\end_inset


\begin_inset Caption Standard

\begin_layout Plain Layout
It seems to be installed correctly
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsubsection
Adding Java to PATH
\end_layout

\begin_layout Standard
Once JDK is installed, you have to create a environment variable to indicate
 where Java is installed, and add it to PATH variable.
\end_layout

\begin_layout Standard
\begin_inset listings
inline false
status open

\begin_layout Plain Layout

$ export JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64
\end_layout

\end_inset


\end_layout

\begin_layout Standard
To check if JAVA_HOME is defined right:
\end_layout

\begin_layout Standard
\begin_inset listings
inline false
status open

\begin_layout Plain Layout

$ echo $JAVA_HOME
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Then we add it to PATH:
\end_layout

\begin_layout Standard
\begin_inset listings
inline false
status open

\begin_layout Plain Layout

$ export PATH=$PATH:$JAVA_HOME/bin
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset listings
inline false
status open

\begin_layout Plain Layout

$ echo $PATH
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename im5.png
	lyxscale 85
	scale 85

\end_inset


\begin_inset Caption Standard

\begin_layout Plain Layout
Adding Java to PATH
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
After all, you have to update the environment variables by the command:
\end_layout

\begin_layout Standard
\begin_inset listings
inline false
status open

\begin_layout Plain Layout

$ source /etc/profile
\end_layout

\end_inset


\end_layout

\begin_layout Section
Installing Tomcat
\end_layout

\begin_layout Subsection
Download
\end_layout

\begin_layout Standard
Now is time to install Tomcat.
 First of all you have to download the source code from:
\end_layout

\begin_layout Itemize
\begin_inset Flex URL
status open

\begin_layout Plain Layout

http://ldp.rediris.es/mirror/apache/tomcat/tomcat-9/
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Taken a look from the URL given, the lastest version available is the 9.0.54:
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename im6.png
	lyxscale 60
	scale 60

\end_inset


\begin_inset Caption Standard

\begin_layout Plain Layout
Tomcat mirror
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Then we have to navigate through the directories until we reach:
\end_layout

\begin_layout Itemize
\begin_inset Flex URL
status open

\begin_layout Plain Layout

http://ldp.rediris.es/mirror/apache/tomcat/tomcat-9/v9.0.54/bin/apache-tomcat-9.0.54.ta
r.gz
\end_layout

\end_inset


\end_layout

\begin_layout Standard
You can download it using the web browser or using the command 
\emph on
wget
\emph default
 in the terminal:
\end_layout

\begin_layout Standard
\begin_inset listings
inline false
status open

\begin_layout Plain Layout

$ wget http://ldp.rediris.es/mirror/apache/tomcat/tomcat-9/v9.0.54/bin/apache-tomcat
-9.0.54.tar.gz
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename im7.png
	lyxscale 85
	scale 85

\end_inset


\begin_inset Caption Standard

\begin_layout Plain Layout
The tar.gz file has downloaded correctly
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Installation
\end_layout

\begin_layout Standard
Next, decompress the tar.gz file using the 
\emph on
tar 
\emph default
instruction:
\end_layout

\begin_layout Standard
\begin_inset listings
inline false
status open

\begin_layout Plain Layout

$ tar xvzf apache-tomcat-9.0.54.tar.gz
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Move it to the destination folder:
\end_layout

\begin_layout Standard
\begin_inset listings
inline false
status open

\begin_layout Plain Layout

$ sudo mv apache-tomcat-9.0.54 /usr/local
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename im8.png
	lyxscale 85
	scale 85

\end_inset


\begin_inset Caption Standard

\begin_layout Plain Layout
It has moved as we wanted
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Now, this step is optional, but it is advisable to do it: I am going to
 create a link in order to do updates more comfortable:
\end_layout

\begin_layout Standard
\begin_inset listings
inline false
status open

\begin_layout Plain Layout

$ sudo ln -s /usr/local/apache-tomcat-9.0.54 /usr/local/tomcat
\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Testing
\end_layout

\begin_layout Standard
Tomcat service management is made by an included script called 
\emph on
catalina
\emph default
.
 Using 
\emph on
catalina
\emph default
 you can manage the service manually providing the parameters 
\begin_inset Quotes eld
\end_inset

start
\begin_inset Quotes erd
\end_inset

 or 
\begin_inset Quotes eld
\end_inset

stop
\begin_inset Quotes erd
\end_inset

:
\end_layout

\begin_layout Standard
\begin_inset listings
inline false
status open

\begin_layout Plain Layout

$ sh /usr/local/tomcat/bin/catalina.sh start
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename im9.png
	lyxscale 85
	scale 85

\end_inset


\begin_inset Caption Standard

\begin_layout Plain Layout
Starting Tomcat
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
If you want to test if the server is listening, you have to introduce in
 your web browser the URL 
\begin_inset Flex URL
status open

\begin_layout Plain Layout

http://127.0.0.1:8080
\end_layout

\end_inset

 or 
\begin_inset Flex URL
status open

\begin_layout Plain Layout

localhost:8080
\end_layout

\end_inset

 and Tomcat home page should appear.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename im10.png
	lyxscale 55
	scale 55

\end_inset


\begin_inset Caption Standard

\begin_layout Plain Layout
Tomcat home page
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Bibliography
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-1"

\end_inset

https://www.it-swarm-es.com/es/java/cual-es-la-diferencia-entre-jdk-y-jre/96858870
5/
\end_layout

\begin_layout Bibliography
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-2"

\end_inset

https://ubunlog.com/tomcat-9-instalacion-ubuntu-18-04/
\end_layout

\begin_layout Bibliography
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-3"

\end_inset

https://remot-technologies.com/como-anadir-java_home-a-las-variables-de-entorno-d
e-ubuntu-20-04-lts/
\end_layout

\begin_layout Bibliography
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-1"

\end_inset

https://educacionadistancia.juntadeandalucia.es/centros/granada/pluginfile.php/8623
75/mod_resource/
\begin_inset Newline newline
\end_inset

content/1/Tema1-ImplantacionArqWeb.pdf ()
\end_layout

\end_body
\end_document
